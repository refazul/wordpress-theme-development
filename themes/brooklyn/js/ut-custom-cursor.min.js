(function(a){"use strict";window.UT_Animated_Cursor=class{constructor(a,b){this.isStuck=!1,this.isInPosition=!1,this.outerCursorSpeed=.2,this.DOM={el:a},this.DOM.dotInner=this.DOM.el.querySelector("ellipse.circle-inner"),this.DOM.dot_size=this.DOM.el.getAttribute("data-dot-size"),this.DOM.dot_size_hover=this.DOM.el.getAttribute("data-hover-dot-size"),this.DOM.follow={el:document.getElementById("ut-hover-cursor-follow")},this.DOM.followInner=this.DOM.follow.el.querySelector("ellipse.circle"),this.DOM.body=document.querySelector("body"),this.DOM.pulse=document.getElementById("ut-hover-cursor-pulse"),this.DOM.cursor="default",this.DOM.leftOffset=this.DOM.body.classList.contains("ut-site-border-left")?site_settings.siteframe_size:0,this.DOM.force_load=!1,this.DOM.locked=!1,this.DOM.mouse={x:0,y:0},this.DOM.pos={x:0,y:0},this.DOM.active=!1,this.DOM.currentTarget={el:!1},this.magnify="on"===this.DOM.follow.el.getAttribute("data-magnify"),this.supports_magnify=!1,this.stuck_list=[],this.initCursor(),this.initEvents(),this.parallaxCursor(),b&&"function"==typeof b&&b()}resetCursor(){this.DOM.currentTarget.el=!1,this.isStuck=!1,this.isInPosition=!1,this.DOM.follow.el.classList.remove("ut-hover-cursor-magnified"),this.DOM.el.setAttribute("data-cursor","default"),this.DOM.follow.el.setAttribute("data-cursor","default"),this.DOM.dotInner.setAttribute("rx",this.DOM.dot_size),this.DOM.dotInner.setAttribute("ry",this.DOM.dot_size)}parallaxCursor(){var b=this;this.magnify&&!this.DOM.el.classList.contains("ut-hover-cursor-grow-off")&&a(".ut-social-follow-module li").on("mouseenter",function(){TweenMax.set(this,{scale:2}),TweenMax.set(this.firstElementChild,{x:0,y:0,scale:.5}),b.supports_magnify=!0}).on("mouseleave",function(){TweenMax.set(this,{scale:1}),TweenMax.set(this.firstElementChild,{scale:1}),TweenMax.to(this.firstElementChild,.2,{x:0,y:0}),b.supports_magnify=!1}).on("mousemove",function(a){b.isInPosition&&(b.parallaxCircleIt(a,this,20),b.callParallaxIt(a,this))})}callParallaxIt(a,b){this.parallaxIt(a,b,b.firstElementChild,15)}parallaxCircleIt(a,b,c){var d=this,e=b.getBoundingClientRect(),f=a.clientX-e.left,g=a.clientY-e.top;d.DOM.pos.x=e.left+e.width/2+(f-e.width/2)/c,d.DOM.pos.y=e.top+e.height/2+(g-e.height/2)/c,TweenMax.to(d.DOM.follow.el,.3,{x:d.DOM.pos.x,y:d.DOM.pos.y,ease:Power2.easeOut})}parallaxIt(a,b,c,d){var e=b.getBoundingClientRect(),f=a.clientX-e.left,g=a.clientY-e.top;TweenMax.to(c,.3,{x:(f-e.width/2)/e.width*d,y:(g-e.height/2)/e.height*d,ease:Power2.easeOut})}initCursor(){var b=this;a(".ut-hover-cursor-parent").on("mousemove",function(a){b.DOM.el.clientX=a.clientX-b.DOM.leftOffset,b.DOM.el.clientY=a.clientY,b.DOM.mouse.x=a.pageX,b.DOM.mouse.y=a.pageY});var c=function(){if(TweenMax.set(b.DOM.el,{x:b.DOM.el.clientX,y:b.DOM.el.clientY}),!b.magnify)TweenMax.set(b.DOM.follow.el,{x:b.DOM.el.clientX,y:b.DOM.el.clientY});else if(!b.isStuck)TweenMax.to(b.DOM.follow.el,b.outerCursorSpeed,{x:b.DOM.el.clientX,y:b.DOM.el.clientY,ease:Power2.easeOut});else if(!!b.isInPosition);else if(b.supports_magnify){const a=b.DOM.currentTarget.el.getBoundingClientRect();TweenMax.to(b.DOM.follow.el,.2,{x:a.left+a.width/2,y:a.top+a.height/2,width:a.width,height:a.height,ease:Power2.easeOut}),b.isInPosition=!0}else TweenMax.to(b.DOM.follow.el,b.outerCursorSpeed,{x:b.DOM.el.clientX,y:b.DOM.el.clientY,ease:Power2.easeOut});requestAnimationFrame(c)};requestAnimationFrame(c)}initEvents(){var b=this,c=a("a:not(.ut-social-follow-link), button:not(.flickity-button ), input[type=\"submit\"], [data-custom-cursor], .ut-social-follow-module li"),d=a("[data-cursor-skin]");this.clickPulse=()=>{TweenMax.set(this.DOM.pulse,{x:b.DOM.el.clientX-b.DOM.el.clientWidth/2,y:b.DOM.el.clientY-b.DOM.el.clientHeight/2,scale:0}),TweenMax.fromTo(this.DOM.pulse,1,{scale:.5,opacity:.3},{scale:1,opacity:0,clearProps:"all",ease:Expo.easeOut})},this.DOM.body.addEventListener("click",this.clickPulse),this.DOM.body.addEventListener("oncontextmenu",this.clickPulse),this.mouseenterSkin=function(c){!a(this).is("div")||a(this).is("#ut-morph-box-app")||a(this).is("#ut-morph-box-full")||a(this).parent().is("a")||c.stopImmediatePropagation();b.DOM.locked||(a(this).is("a")&&(b.DOM.locked=!0),"global"===a(this).data("cursor-skin")?(b.DOM.el.setAttribute("data-skin",a(b.DOM.el).data("default-skin")),b.DOM.follow.el.setAttribute("data-skin",a(b.DOM.el).data("default-skin"))):(b.DOM.el.setAttribute("data-skin",a(this).data("cursor-skin")),b.DOM.follow.el.setAttribute("data-skin",a(this).data("cursor-skin"))))},d.on("mouseenter",this.mouseenterSkin),this.mouseleaveSkin=function(){var c=a(this);c.parent().closest("[data-cursor-skin]").length?"global"===c.parent().closest("[data-cursor-skin]").get(0).getAttribute("data-cursor-skin")?(b.DOM.el.setAttribute("data-skin",a(b.DOM.el).data("default-skin")),b.DOM.follow.el.setAttribute("data-skin",a(b.DOM.el).data("default-skin"))):(b.DOM.el.setAttribute("data-skin",c.parent().closest("[data-cursor-skin]").get(0).getAttribute("data-cursor-skin")),b.DOM.follow.el.setAttribute("data-skin",c.parent().closest("[data-cursor-skin]").get(0).getAttribute("data-cursor-skin"))):(b.DOM.el.setAttribute("data-skin",a(b.DOM.el).data("default-skin")),b.DOM.follow.el.setAttribute("data-skin",a(b.DOM.el).data("default-skin"))),a(this).is("a")&&(b.DOM.locked=!1)},d.on("mouseleave",this.mouseleaveSkin),this.mouseenterFn=function(c){b.DOM.currentTarget.el=c.currentTarget,a(this).hasClass("ut-deactivated-link")||(b.DOM.dotInner.setAttribute("rx",b.DOM.dot_size_hover),b.DOM.dotInner.setAttribute("ry",b.DOM.dot_size_hover)),a(this).hasClass("ut-deactivated-link")?(b.DOM.el.setAttribute("data-cursor","default"),b.DOM.follow.el.setAttribute("data-cursor","default")):a(this).hasClass("ut-load-video")?(b.DOM.el.setAttribute("data-cursor","video"),b.DOM.follow.el.setAttribute("data-cursor","video")):a(c.target).data("custom-cursor")?(b.DOM.el.setAttribute("data-cursor",a(c.target).data("custom-cursor")),b.DOM.follow.el.setAttribute("data-cursor",a(c.target).data("custom-cursor"))):a(c.target).is("img")||a("img",c.target).length||a(c.target).hasClass("ut-portfolio-info")||a(c.target).hasClass("ut-image-gallery-image-caption")?a(c.target).parent().hasClass("ut-deactivated-link")?(b.DOM.el.setAttribute("data-cursor","default"),b.DOM.follow.el.setAttribute("data-cursor","default")):(b.DOM.el.setAttribute("data-cursor","image"),b.DOM.follow.el.setAttribute("data-cursor","image")):(b.isStuck=!0,b.DOM.el.setAttribute("data-cursor","link"),b.DOM.follow.el.setAttribute("data-cursor","link"))},c.on("mouseenter",this.mouseenterFn),a(document).on("mouseenter",".lg-icon",this.mouseenterFn),a(document).on("mouseenter",".ut-morph-box-close",function(a){b.DOM.el.setAttribute("data-cursor","link"),b.DOM.el.classList.add("ut-cursor-force-size"),b.DOM.follow.el.setAttribute("data-cursor","link"),b.DOM.follow.el.classList.add("ut-cursor-force-size");const c=a.currentTarget,d=c.getBoundingClientRect();b.DOM.followInner.setAttribute("rx",(d.width+16)/2),b.DOM.followInner.setAttribute("ry",(d.width+16)/2)}).on("mouseleave",".ut-morph-box-close",function(){b.DOM.el.setAttribute("data-cursor","default"),b.DOM.el.classList.remove("ut-cursor-force-size"),b.DOM.follow.el.setAttribute("data-cursor","default"),b.DOM.follow.el.classList.remove("ut-cursor-force-size"),b.DOM.followInner.setAttribute("rx",48),b.DOM.followInner.setAttribute("ry",48)}),a(document).on("mouseenter",".flickity-button, .flickity-page-dots .dot",function(a){b.DOM.el.setAttribute("data-cursor","link"),b.DOM.el.classList.add("ut-cursor-force-size"),b.DOM.follow.el.setAttribute("data-cursor","link"),b.DOM.follow.el.classList.add("ut-cursor-force-size");const c=a.currentTarget,d=c.getBoundingClientRect();b.DOM.followInner.setAttribute("rx",(d.width+16)/2),b.DOM.followInner.setAttribute("ry",(d.height+16)/2)}).on("mouseleave",".flickity-button, .flickity-page-dots .dot",function(){b.DOM.el.setAttribute("data-cursor","default"),b.DOM.el.classList.remove("ut-cursor-force-size"),b.DOM.follow.el.setAttribute("data-cursor","default"),b.DOM.follow.el.classList.remove("ut-cursor-force-size"),b.DOM.followInner.setAttribute("rx",48),b.DOM.followInner.setAttribute("ry",48)}),this.mouseleaveFn=function(){b.resetCursor()},c.on("mouseleave",this.mouseleaveFn),a(document).on("mouseleave",".lg-icon",this.mouseleaveFn),this.mousedownFn=function(){b.DOM.el.classList.add("ut-hover-cursor-mousedown"),b.DOM.follow.el.classList.add("ut-hover-cursor-mousedown")},this.DOM.body.addEventListener("mousedown",this.mousedownFn),this.mouseupFn=function(){b.DOM.el.classList.remove("ut-hover-cursor-mousedown"),b.DOM.follow.el.classList.remove("ut-hover-cursor-mousedown")},this.DOM.body.addEventListener("mouseup",this.mouseupFn),this.mouseenterIFramesFn=function(){b.DOM.el.classList.add("ut-hover-cursor-hide"),b.DOM.follow.el.classList.add("ut-hover-cursor-hide")},a(document).on("mouseenter","iframe",this.mouseenterIFramesFn),this.mouseleaveIFramesFn=function(){b.DOM.el.classList.remove("ut-hover-cursor-hide"),b.DOM.el.setAttribute("data-cursor","default"),b.DOM.follow.el.classList.remove("ut-hover-cursor-hide"),b.DOM.follow.el.setAttribute("data-cursor","default")},a(document).on("mouseleave","iframe",this.mouseleaveIFramesFn),this.DOM.force_reload=!1,a(window).bind("beforeunload",function(){b.DOM.force_reload||(b.DOM.el.classList.add("loading"),b.DOM.follow.el.classList.add("loading"))}),a(window).bind("pageshow",function(a){a.originalEvent.persisted&&(b.DOM.force_reload=!0)}),a(document).on("ut.close.overlay",this.resetCursor())}}})(jQuery);